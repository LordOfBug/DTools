<ui:composition template="/templates/pageTemplate.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<div id="navigationFrame">
		<ui:define name="navigationFrame">
			<h:form id="breadCrumb">
				<p:breadCrumb>
					<p:menuitem value="Home" url="/" />
					<p:menuitem value="Help" url="/help" />
				</p:breadCrumb>
			</h:form>
		</ui:define>
	</div>

	<div id="contentFrame">
		<ui:define name="contentFrame">

			<h1>DTools Help Center</h1>
			<hr />
			<a href="/DTools/help/versionHistory">Version History</a>
			<hr />
			
			
			
			<hr />
			
			<h3>Themes</h3>
			<p>DTools supports two main GUI styles: default and antracit. It is configurable in Settings.</p>
			<p>Icon size (default): 32x32 px</p>
			<p>Icon size (antracit): 16x16 px</p>
			
			<hr />
			
			<h3>Webhook</h3>
			<p>DTools can receive any HTTP message (GET or POST) on webhook URL:</p>
			<a href="http://localhost:8080/DTools/api/webhook">http://localhost:8080/DTools/api/webhook</a>
			<p>Currently only alertmanager notifications are processed. To get full information out of alerts,
			it is recommended to add the following labels to prometheus alerts:</p>
			<ul>
				<li>alertdomain - functional domain of alert (eg. hardware, network, sworm)</li>
				<li>alerttype - (alarm|event) alarms are expected to be cleared, while events are one-time informational messages</li>
				<li>instance - hostname or IP address of node where the alert is raised</li>
				<li>severity - (critical|major|minor|warning|clear|informational)</li>
				<li>priority - (high|medium|low) how urgent is alert</li>
			</ul>
			<p>You can see them in:</p>
			<a href="http://localhost:8080/DTools/alertmanager">http://localhost:8080/DTools/alertmanager</a>
			
			<hr />
			
			<h3>Metrics</h3>
			<p>DTools exposes Prometheus metrics at URL endpoint:</p>
			<a href="http://localhost:8080/DTools/api/prometheus/metrics">http://localhost:8080/DTools/api/prometheus/metrics</a>
			<p>Supported metrics:</p>
			
			<table style="width:100%">
			  <tr>
			    <th>Metric name</th>
			    <th>Labels</th> 
			    <th>Description</th>
			  </tr>
			  <tr>
			    <td>dtools_build_info</td>
			    <td>version, os</td> 
			    <td>Version and operating system</td>
			  </tr>
			  <tr>
			    <td>dtools_monitored_nodes_count</td>
			    <td>networkLocation</td> 
			    <td>Number of monitored nodes for each network location</td>
			  </tr>
			  <tr>
			    <td>dtools_webhook_messages_received_total</td>
			    <td>remoteHost, method</td> 
			    <td>Total number of messages received on webhook</td>
			  </tr>
			  <tr>
			    <td>dtools_am_alerts_received_total</td>
			    <td>remoteHost, alerttype, severity</td> 
			    <td>Total number of received alertmanager alerts</td>
			  </tr>
			  <tr>
			    <td>dtools_ssh_commands_executed_total</td>
			    <td>remoteHost, status</td> 
			    <td>Number of commands executed by SSH clients</td>
			  </tr>
			</table>
			
			<hr />
			<hr />
			<hr />
			<hr />
			<hr />

		</ui:define>
	</div>

</ui:composition>
