<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:dt="http://dtools.com/ui" >
    
    <h:panelGrid columns="1" cellpadding="0" cellspacing="0" width="100%">
		<h:panelGroup id="startStopAdBtn">
		<p:commandButton value="Search..." onclick="PF('autoDiscDlg').show();" 
			icon="ui-icon-search" rendered="#{!appBean.autoDiscoveryActive}" />
			<p:commandButton value="Stop" actionListener="#{appBean.stopAutoDiscover}" icon="ui-icon-circle-close" rendered="#{appBean.autoDiscoveryActive}" />
		</h:panelGroup>
		<hr/>
		<p:outputLabel id="adStatus" value="Status: #{appBean.autoDiscoveryActive == true ? 'Searching...' : 'Idle'}" />
		<p:outputLabel value="From IP: #{appBean.fromIp}" />
		<p:outputLabel value="To IP: #{appBean.toIp}" />
		<h:panelGroup id="adProgBar">
			<p:progressBar value="#{appBean.adProgress}" labelTemplate="{value}%" displayOnly="true" />
		</h:panelGroup>
		<p:outputLabel id="adCurrIp" value="Last queued: #{appBean.autoDiscoveryCurrentIp}" />
		<p:outputLabel id="adActiveWorkersCount" value="Queued threads: #{appBean.activeWorkersCount}" />
		<p:outputLabel value="Pool size: #{appBean.autoDiscoveryPoolSize}" />
		<p:outputLabel id="adDelay" value="Queue delay: #{appBean.autoDiscoveryDelay}" />
		<p:outputLabel id="adDiscoveredCount" value="Discovered nodes: #{appBean.discoveredNodesCount}" />
		<p:outputLabel id="adTotalCount" value="Scanned IP addresses: #{appBean.loopCount}" />
		<p:outputLabel value="Total number of IP addresses: #{appBean.totalCount}" />
	</h:panelGrid>
	<p:poll interval="3" update="startStopAdBtn adStatus adCurrIp adActiveWorkersCount adDelay adDiscoveredCount adTotalCount adProgBar" />

</ui:composition>