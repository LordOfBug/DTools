<!DOCTYPE html>
<html lang="en"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:dt="http://dtools.com/facelets">
    <h:head>
        <title>DTools</title>
        <h:outputStylesheet library="css" name="dstyles.css"/>
    </h:head>
    <h:body>
    	
    	<h:panelGrid columns="1" styleClass="background" cellpadding="0" cellspacing="0" width="100%">
    		
    		<ui:include src="/include/toolbar.xhtml"/>
			
			<h:outputText value="ssh://#{sshClientBean.sshClient.username}@#{sshClientBean.sshClient.hostname}:#{sshClientBean.sshClient.port}" styleClass="titleLarge" />
			
			<hr/>
			
			
			
			<h:form id="exec">
				<h:panelGrid columns="2">
					<h:selectOneListbox value="#{sshClientBean.selectedCommand}" size="10"
						onchange="submit()" valueChangeListener="#{sshClientBean.commandValueChanged}">
						<f:selectItems value="#{sshClientBean.commands}" />
					</h:selectOneListbox>
					<h:commandButton action="#{sshClientBean.execute}" value="Execute">
						<f:ajax render="sshResponse exec" />
					</h:commandButton>
					<h:inputText value="#{sshClientBean.newCommand}" />
					<h:commandButton action="#{sshClientBean.addCommand}" value="Add" />
				</h:panelGrid>
				
				<hr/>
				
				
				
				<h:outputText value="> #{sshClientBean.selectedCommand}" />
				<br/>
				<h:message for="exec" style="color: #{sshClientBean.execStatusColor};" />
				
				
				<h:panelGrid columns="2" cellspacing="5px" width="100%">
				
					<h:inputTextarea id="sshResponse" value="#{sshClientBean.sshResponse}" 
						cols="100" rows="15" styleClass="codeStyle" />
					<h:outputText value="" />
					
					<h:commandButton action="refresh" value="Refresh">
						<f:ajax render="sshResponse exec"/>
					</h:commandButton>
					<h:outputText value="" />
					
					<h:outputText value="Save as filename: " />
					<h:inputText value="#{sshClientBean.filename}" />
					
					<h:outputText value="Comments: " />
					<h:inputTextarea value="#{sshClientBean.remark}" cols="30" rows="3" />
					
					<h:commandButton action="#{sshClientBean.saveResponse}" value="Save result" />
				</h:panelGrid>
				
			</h:form>
			
        
        </h:panelGrid>
        
    </h:body>
</html>


